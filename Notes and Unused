
Current commit notepad:

"coded application_controller.rb, coded model files, incl associations"


Tasks:

-- make tables with rake tasks
-- migrate files
-- don't forget to include these in customers table migration:
class CreateUsers < ActiveRecord::Migration[5.1]
    def up
        create_table :users do |t|
            t.string :username
            t.string :password_digest
        end
    end
 
    def down
        drop_table :users
    end
end



Finished Tasks:
-- fill out model relationships
-- fill out application controller

Reminders:

1. think of an extended feature
2. make a feature to send an email to the owner if an order is edited
3. readme instructions includes setting session secret


Notes:
Customer does not have view because all customer information is private and handled by the business personnel
Only business personnel can edit projects



Unused Code:

class AddColumnsToProjects < ActiveRecord::Migration[5.2]
  def change
    add_column :projects, :project_name, :string
    add_column :projects, :project_location, :string
    add_column :projects, :project_estimated_charges, :real
    add_column :projects, :project_actual_charges, :real
    add_column :projects, :customer_id, :integer 
  end
end


class CreateCustomers < ActiveRecord::Migration[5.2]
  def change
    create_table :customers do |t|
      t.string :customer_name
      t.string :email
      t.string :password
      t.string :address_1
      t.string :address_2
      t.string :phone_1
      t.string :phone_2
      t.string :customer_notes
    end
  end
end


    # register Sinatra::ActiveRecordExtension
    # configure do 
    #     enable :sessions
    # set :session_secret, "my_secret"
    # set :views, Proc.new { File.join(root, "../views/") }
    
    # set :views, 'app/views' 

class ApplicationController < Sinatra::Base
  register Sinatra::ActiveRecordExtension
  set :views, Proc.new { File.join(root, "../views/") }

  configure do
    enable :sessions
    set :session_secret, "secret"
  end

  get '/' do 
    erb :home
  end

  get '/registrations/signup' do
    erb :'/registrations/signup'
  end

  post '/registrations' do
    
    redirect '/users/home'
  end

  get '/sessions/login' do
    erb :'sessions/login'
  end

  post '/sessions' do
    redirect '/users/home'
  end

  get '/sessions/logout' do 
    redirect '/'
  end

  get '/users/home' do
    erb :'/users/home'
  end

end
